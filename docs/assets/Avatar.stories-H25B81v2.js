import{r as d,j as n}from"./iframe-D4P0QQci.js";import{c as N}from"./index-B2bjad_y.js";import{u as w}from"./index-6l279soJ.js";import{u as v}from"./index-Biy6zRLz.js";import{P as f}from"./index-CMKm3g-K.js";import{r as R}from"./index-CTcOkJkb.js";import{c as p}from"./utils-CBfrqCZ4.js";import"./preload-helper-D9Z9MdNV.js";import"./index-Cu-jjTCe.js";import"./index-Cx5E2LR1.js";var C=R();function F(){return C.useSyncExternalStore(M,()=>!0,()=>!1)}function M(){return()=>{}}var g="Avatar",[P,X]=N(g),[T,S]=P(g),L=d.forwardRef((a,t)=>{const{__scopeAvatar:o,...r}=a,[s,e]=d.useState("idle");return n.jsx(T,{scope:o,imageLoadingStatus:s,onImageLoadingStatusChange:e,children:n.jsx(f.span,{...r,ref:t})})});L.displayName=g;var I="AvatarImage",_=d.forwardRef((a,t)=>{const{__scopeAvatar:o,src:r,onLoadingStatusChange:s=()=>{},...e}=a,u=S(I,o),i=z(r,e),c=w(l=>{s(l),u.onImageLoadingStatusChange(l)});return v(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?n.jsx(f.img,{...e,ref:t,src:r}):null});_.displayName=I;var E="AvatarFallback",b=d.forwardRef((a,t)=>{const{__scopeAvatar:o,delayMs:r,...s}=a,e=S(E,o),[u,i]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(c)}},[r]),u&&e.imageLoadingStatus!=="loaded"?n.jsx(f.span,{...s,ref:t}):null});b.displayName=E;function h(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function z(a,{referrerPolicy:t,crossOrigin:o}){const r=F(),s=d.useRef(null),e=r?(s.current||(s.current=new window.Image),s.current):null,[u,i]=d.useState(()=>h(e,a));return v(()=>{i(h(e,a))},[e,a]),v(()=>{const c=k=>()=>{i(k)};if(!e)return;const l=c("loaded"),x=c("error");return e.addEventListener("load",l),e.addEventListener("error",x),t&&(e.referrerPolicy=t),typeof o=="string"&&(e.crossOrigin=o),()=>{e.removeEventListener("load",l),e.removeEventListener("error",x)}},[e,o,t]),u}var B=L,D=_,$=b;function A({className:a,...t}){return n.jsx(B,{"data-slot":"avatar",className:p("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function j({className:a,...t}){return n.jsx(D,{"data-slot":"avatar-image",className:p("aspect-square size-full",a),...t})}function y({className:a,...t}){return n.jsx($,{"data-slot":"avatar-fallback",className:p("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}A.__docgenInfo={description:"",methods:[],displayName:"Avatar"};j.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};y.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};const Y={title:"Design Tokens/Avatar",component:A,parameters:{layout:"centered"},tags:["autodocs"]},m={render:()=>n.jsxs(A,{children:[n.jsx(j,{src:"https://avatars.githubusercontent.com/u/810438?v=4",alt:"avatar"}),n.jsx(y,{children:"AB"})]})};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: () => <Avatar>
      <AvatarImage src="https://avatars.githubusercontent.com/u/810438?v=4" alt="avatar" />
      <AvatarFallback>AB</AvatarFallback>
    </Avatar>
}`,...m.parameters?.docs?.source}}};const Z=["Default"];export{m as Default,Z as __namedExportsOrder,Y as default};
