import{j as e,r as m}from"./iframe-LWRVmnFj.js";import{I as g}from"./input-BUEIBk2T.js";import{C as u}from"./checkbox-CZwQnddj.js";import{L as s}from"./label-DonAIvJ5.js";import{R as A,a as S}from"./radio-group-B-MwCkwr.js";import{B as c}from"./button-ClTaPFkY.js";import{D as I,a as P,b as F}from"./dialog-CfIO3Guv.js";import"./preload-helper-D9Z9MdNV.js";import"./utils-CBfrqCZ4.js";import"./index-DPcGnTxN.js";import"./index-wRcYn_xB.js";import"./index-Dc_FVRD7.js";import"./index-UZFZX2Lm.js";import"./index-CWpX5yCy.js";import"./index-U0GIlNVP.js";import"./index-CPtGBJJt.js";import"./index-D5Qzbgza.js";import"./index-gdvdVdh-.js";import"./index-CABtAXQK.js";import"./check-DiqQhkp0.js";import"./createLucideIcon-DztGgPSJ.js";import"./index-_47-7k22.js";import"./index-BlWLI2XR.js";import"./index-Dy_wxmGO.js";import"./index-C-4RrRRl.js";import"./index-DO_OVilp.js";import"./index-CdJFUDDL.js";import"./index-C6nUtkr1.js";import"./index-B-bEmlkt.js";import"./index-DDwUy8g0.js";import"./index-B1BkD8AA.js";import"./x-D9Qv2jhy.js";const p=[{id:"Accounts",label:"Accounts",sectionIds:["dateType","markets","products","businessOrg","industries","teams","accountLocation","clientTags","policyTags"]},{id:"Industries",label:"Industries",sectionIds:["dateType","markets","products","businessOrg","industries","teams","accountLocation","clientTags","policyTags"]},{id:"Products",label:"Products",sectionIds:["dateType","markets","products","businessOrg","industries","teams","accountLocation","clientTags","policyTags"]},{id:"Markets",label:"Markets",sectionIds:["dateType","markets","products","businessOrg","industries","teams","accountLocation","clientTags","policyTags"]},{id:"Account Executives",label:"Account Executives",sectionIds:["dateType","teams"]}],O={id:"premiumType",label:"Premium Type",fields:[{id:"premiumType",label:"Premium Type",type:"select",options:[{value:"billed",label:"Billed"},{value:"written",label:"Written"},{value:"ennablWritten",label:"ennabl Written"}]}]},R={id:"productionAllocation",label:"Production Allocation",fields:[{id:"allocation",label:"Allocation",type:"select",options:[{value:"producerProductionCredit",label:"Producer Production Credit"},{value:"primaryProducer",label:"Primary Producer"}]}]},C={id:"policyStatus",label:"Policy Status",fields:[{id:"amsPolicyStatus",label:"AMS Policy Status",type:"select",options:[{value:"active",label:"Active"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]},{id:"ennablPolicyStatus",label:"ennabl Policy Status",type:"select",options:[{value:"active",label:"Active"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}]},V={id:"dateRange",label:"Date Range",fields:[{id:"rangePreset",label:"Preset",type:"select",options:[{value:"next30",label:"Next 30 days"},{value:"next60",label:"Next 60 days"},{value:"next90",label:"Next 90 days"},{value:"custom",label:"Custom"}]},{id:"from",label:"From",type:"date"},{id:"to",label:"To",type:"date"}]},M={id:"dateType",label:"Date & Type",fields:[],childSectionIds:["premiumType","productionAllocation","policyStatus","dateRange"]},$={id:"markets",label:"Markets",fields:[],childSectionIds:["markets.search","markets.placement","markets.carrierType","markets.marketTree"]},D={id:"markets.search",label:"Search Markets",fields:[{id:"query",label:"Search",type:"search",placeholder:"Search Markets"}]},_={id:"markets.placement",label:"Placement",fields:[{id:"placement",label:"Placement",type:"radio",options:[{value:"all",label:"All"},{value:"direct",label:"Direct"},{value:"indirect",label:"Indirect"}],defaultValue:"all"}]},L={id:"markets.carrierType",label:"Carrier Type",fields:[{id:"note",label:"Carrier type filters are disabled because they haven't been defined. Admins can set carrier types using the Market Mapping page in ennablData.",type:"note",description:"Carrier type filters are disabled because they haven't been defined. Admins can set carrier types using the Market Mapping page in ennablData."},{id:"strategic",label:"Strategic",type:"checkbox",disabled:!0},{id:"nonStrategic",label:"Non-strategic",type:"checkbox",disabled:!0},{id:"other",label:"Other",type:"checkbox",disabled:!0}]},B={id:"carriers",label:"Carriers",children:[{id:"carrier-a",label:"Carrier A"},{id:"carrier-b",label:"Carrier B"}]},E={id:"intermediaries",label:"Intermediaries",children:[{id:"intermediary-a",label:"Intermediary A"},{id:"intermediary-b",label:"Intermediary B"}]},G={id:"markets.marketTree",label:"Selected: All Markets",fields:[{id:"tree",label:" ",type:"tree",nodes:[B,E]}]},W={id:"products",label:"Products",fields:[{id:"product",label:"Product",type:"multiSelect",options:[{value:"auto",label:"Auto"},{value:"property",label:"Property"},{value:"gl",label:"General Liability"}]}]},b={premiumType:O,productionAllocation:R,policyStatus:C,dateRange:V,dateType:M,markets:$,marketsSearch:D,marketsPlacement:_,marketsCarrierType:L,marketsTree:G,products:W},v=({items:a,activeId:n,onSelect:t})=>e.jsx("nav",{className:"w-64 border-r pr-2",children:e.jsx("ul",{className:"space-y-1",children:a.map(r=>{const i=r.id===n;return e.jsx("li",{children:e.jsxs("button",{className:`w-full text-left px-3 py-2 rounded flex items-center gap-2 ${i?"text-blue-600 bg-blue-50":"text-foreground/80 hover:bg-muted"}`,onClick:()=>t?.(r.id),children:[r.icon??e.jsx("span",{className:"w-4 h-4 rounded border"}),e.jsx("span",{className:"text-sm",children:r.label})]})},r.id)})})});v.__docgenInfo={description:"",methods:[],displayName:"FiltersSidebar",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; label: string; icon?: React.ReactNode }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!1}}]}}],raw:"SidebarItem[]"},description:""},activeId:{required:!1,tsType:{name:"string"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""}}};const x=({node:a})=>e.jsxs("div",{className:"ml-4 my-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm",children:[e.jsx(u,{id:`tree-${a.id}`}),e.jsx(s,{htmlFor:`tree-${a.id}`,children:a.label})]}),a.children?.map(n=>e.jsx(x,{node:n},n.id))]}),h=({field:a,value:n})=>{const t=`field-${a.id}`;switch(a.type){case"search":return e.jsxs("div",{className:"space-y-1",children:[e.jsx(s,{htmlFor:t,children:a.label}),e.jsx(g,{id:t,placeholder:a.placeholder??"",defaultValue:String(n??a.defaultValue??"")})]});case"radio":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:a.label}),e.jsx(A,{defaultValue:String(n??a.defaultValue??""),children:Array.isArray(a.options)&&a.options.map(r=>e.jsxs("div",{className:"inline-flex items-center gap-2 mr-3",children:[e.jsx(S,{id:`${t}-${r.value}`,value:r.value}),e.jsx(s,{htmlFor:`${t}-${r.value}`,children:r.label})]},r.value))})]});case"note":return e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description??a.label});case"tree":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm font-medium",children:a.label}),e.jsxs("div",{className:"text-xs flex gap-3",children:[e.jsx(c,{variant:"link",className:"px-0",children:"Select All"}),e.jsx(c,{variant:"link",className:"px-0",children:"Inverse"}),e.jsx(c,{variant:"link",className:"px-0",children:"Clear"})]})]}),(a.nodes??[]).map(r=>e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm",children:[e.jsx(u,{id:`tree-${r.id}`}),e.jsx(s,{htmlFor:`tree-${r.id}`,children:r.label})]}),r.children?.map(i=>e.jsx(x,{node:i},i.id))]},r.id))]});case"date":return e.jsxs("div",{className:"space-y-1",children:[e.jsx(s,{htmlFor:t,children:a.label}),e.jsx(g,{id:t,type:"date",defaultValue:String(n??a.defaultValue??"")})]});case"checkbox":return e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm",children:[e.jsx(u,{id:t,disabled:a.disabled,defaultChecked:!!(n??a.defaultValue)}),e.jsx(s,{htmlFor:t,children:a.label})]});case"select":return e.jsxs("div",{className:"space-y-1",children:[e.jsx(s,{htmlFor:t,children:a.label}),e.jsxs("select",{id:t,className:"w-full border rounded px-2 py-1",defaultValue:String(n??a.defaultValue??""),children:[e.jsx("option",{value:"",children:"Any"}),Array.isArray(a.options)&&a.options.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]});case"multiSelect":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm",children:a.label}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(a.options)&&a.options.map(r=>e.jsxs("div",{className:"inline-flex items-center gap-1 text-xs border rounded px-2 py-1",children:[e.jsx(u,{id:`${t}-${r.value}`}),e.jsx(s,{htmlFor:`${t}-${r.value}`,children:r.label})]},r.value))})]});default:return null}};h.__docgenInfo={description:"",methods:[],displayName:"FilterFieldRenderer",props:{field:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  id: string
  label: string
  type: FieldType
  options?: Option[] | (() => Promise<Option[]>)
  defaultValue?: unknown
  disabled?: boolean
  placeholder?: string
  nodes?: TreeNode[]
  description?: string
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:`| 'select'
| 'radio'
| 'checkbox'
| 'multiSelect'
| 'search'
| 'date'
| 'note'
| 'tree'`,elements:[{name:"literal",value:"'select'"},{name:"literal",value:"'radio'"},{name:"literal",value:"'checkbox'"},{name:"literal",value:"'multiSelect'"},{name:"literal",value:"'search'"},{name:"literal",value:"'date'"},{name:"literal",value:"'note'"},{name:"literal",value:"'tree'"}],required:!0}},{key:"options",value:{name:"union",raw:"Option[] | (() => Promise<Option[]>)",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Option[]"},{name:"unknown"}],required:!1}},{key:"defaultValue",value:{name:"unknown",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; label: string; children?: TreeNode[] }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"children",value:{name:"Array",elements:[{name:"TreeNode"}],raw:"TreeNode[]",required:!1}}]}}],raw:"TreeNode[]",required:!1}},{key:"description",value:{name:"string",required:!1}}]}},description:""},value:{required:!1,tsType:{name:"unknown"},description:""}}};const k=({section:a,values:n})=>e.jsxs("section",{children:[e.jsx("h4",{className:"font-medium mb-2",children:a.label}),e.jsx("div",{className:"space-y-2 text-sm",children:a.fields.map(t=>e.jsx(h,{field:t,value:n?.[t.id]},t.id))})]});k.__docgenInfo={description:"",methods:[],displayName:"FilterSection",props:{section:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  id: string
  label: string
  fields: Field[]
  childSectionIds?: string[]
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"fields",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string
  label: string
  type: FieldType
  options?: Option[] | (() => Promise<Option[]>)
  defaultValue?: unknown
  disabled?: boolean
  placeholder?: string
  nodes?: TreeNode[]
  description?: string
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:`| 'select'
| 'radio'
| 'checkbox'
| 'multiSelect'
| 'search'
| 'date'
| 'note'
| 'tree'`,elements:[{name:"literal",value:"'select'"},{name:"literal",value:"'radio'"},{name:"literal",value:"'checkbox'"},{name:"literal",value:"'multiSelect'"},{name:"literal",value:"'search'"},{name:"literal",value:"'date'"},{name:"literal",value:"'note'"},{name:"literal",value:"'tree'"}],required:!0}},{key:"options",value:{name:"union",raw:"Option[] | (() => Promise<Option[]>)",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Option[]"},{name:"unknown"}],required:!1}},{key:"defaultValue",value:{name:"unknown",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; label: string; children?: TreeNode[] }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"children",value:{name:"Array",elements:[{name:"TreeNode"}],raw:"TreeNode[]",required:!1}}]}}],raw:"TreeNode[]",required:!1}},{key:"description",value:{name:"string",required:!1}}]}}],raw:"Field[]",required:!0}},{key:"childSectionIds",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]}},description:""},values:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"unknown"}],raw:"Record<string, unknown>"},description:""}}};const f=({pageLabel:a,sections:n,preselectedValues:t,sectionRegistry:r,onApply:i})=>{const[y,j]=m.useState(n[0]?.id),w=n.map(l=>({id:l.id,label:l.label})),q=m.useMemo(()=>{const l=[...n.map(d=>[d.id,d])];return r&&(l.push(...Object.entries(r)),l.push(...Object.values(r).map(d=>[d.id,d]))),Object.fromEntries(l)},[n,r]),N=l=>l.childSectionIds?.length?l.childSectionIds.map(d=>q[d]).filter(Boolean):[l],T=n.filter(l=>l.id===y).flatMap(N);return e.jsxs("div",{className:"w-full max-w-[1100px] rounded-md border bg-card overflow-hidden flex flex-col",style:{maxHeight:"calc(100vh - 80px)"},children:[e.jsxs("div",{className:"px-6 pt-6",children:[e.jsxs("div",{className:"mb-2 text-lg font-semibold",children:["Filters – ",a]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Modal layout for applying global filters across different pages."})]}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsx(v,{items:w,activeId:y,onSelect:j}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:e.jsx("div",{className:"flex flex-col gap-6",children:T.map(l=>e.jsx(k,{section:l,values:t?.[l.id]},l.id))})})]}),e.jsxs("div",{className:"flex justify-end gap-2 p-6 pt-4 border-t bg-card",children:[e.jsx("button",{className:"px-3 py-1 border rounded",children:"Cancel"}),e.jsx("button",{className:"px-3 py-1 border rounded",children:"Reset"}),e.jsx("button",{className:"px-3 py-1 border rounded bg-primary text-primary-foreground",onClick:()=>i?.({}),children:"Apply"})]})]})};f.__docgenInfo={description:"",methods:[],displayName:"FiltersModal",props:{pageLabel:{required:!0,tsType:{name:"string"},description:""},sections:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string
  label: string
  fields: Field[]
  childSectionIds?: string[]
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"fields",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string
  label: string
  type: FieldType
  options?: Option[] | (() => Promise<Option[]>)
  defaultValue?: unknown
  disabled?: boolean
  placeholder?: string
  nodes?: TreeNode[]
  description?: string
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:`| 'select'
| 'radio'
| 'checkbox'
| 'multiSelect'
| 'search'
| 'date'
| 'note'
| 'tree'`,elements:[{name:"literal",value:"'select'"},{name:"literal",value:"'radio'"},{name:"literal",value:"'checkbox'"},{name:"literal",value:"'multiSelect'"},{name:"literal",value:"'search'"},{name:"literal",value:"'date'"},{name:"literal",value:"'note'"},{name:"literal",value:"'tree'"}],required:!0}},{key:"options",value:{name:"union",raw:"Option[] | (() => Promise<Option[]>)",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Option[]"},{name:"unknown"}],required:!1}},{key:"defaultValue",value:{name:"unknown",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; label: string; children?: TreeNode[] }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"children",value:{name:"Array",elements:[{name:"TreeNode"}],raw:"TreeNode[]",required:!1}}]}}],raw:"TreeNode[]",required:!1}},{key:"description",value:{name:"string",required:!1}}]}}],raw:"Field[]",required:!0}},{key:"childSectionIds",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]}}],raw:"Section[]"},description:""},preselectedValues:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"Record",elements:[{name:"string"},{name:"unknown"}],raw:"Record<string, unknown>"}],raw:"Record<string, Record<string, unknown>>"},description:""},sectionRegistry:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"signature",type:"object",raw:`{
  id: string
  label: string
  fields: Field[]
  childSectionIds?: string[]
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"fields",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string
  label: string
  type: FieldType
  options?: Option[] | (() => Promise<Option[]>)
  defaultValue?: unknown
  disabled?: boolean
  placeholder?: string
  nodes?: TreeNode[]
  description?: string
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:`| 'select'
| 'radio'
| 'checkbox'
| 'multiSelect'
| 'search'
| 'date'
| 'note'
| 'tree'`,elements:[{name:"literal",value:"'select'"},{name:"literal",value:"'radio'"},{name:"literal",value:"'checkbox'"},{name:"literal",value:"'multiSelect'"},{name:"literal",value:"'search'"},{name:"literal",value:"'date'"},{name:"literal",value:"'note'"},{name:"literal",value:"'tree'"}],required:!0}},{key:"options",value:{name:"union",raw:"Option[] | (() => Promise<Option[]>)",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Option[]"},{name:"unknown"}],required:!1}},{key:"defaultValue",value:{name:"unknown",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; label: string; children?: TreeNode[] }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"children",value:{name:"Array",elements:[{name:"TreeNode"}],raw:"TreeNode[]",required:!1}}]}}],raw:"TreeNode[]",required:!1}},{key:"description",value:{name:"string",required:!1}}]}}],raw:"Field[]",required:!0}},{key:"childSectionIds",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]}}],raw:"Record<string, Section>"},description:""},onApply:{required:!1,tsType:{name:"signature",type:"function",raw:"(values: Record<string, unknown>) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"unknown"}],raw:"Record<string, unknown>"},name:"values"}],return:{name:"void"}}},description:""}}};const qe={title:"Features/Global Filters",parameters:{layout:"centered"},tags:["autodocs"],argTypes:{pageId:{control:"select",options:p.map(a=>a.id)},preselectedValues:{control:"object"}}},H=({pageId:a,preselectedValues:n})=>{const t=m.useMemo(()=>p.find(i=>i.id===a)??p[0],[a]),r=t.sectionIds.map(i=>b[i]).filter(Boolean);return e.jsxs(I,{children:[e.jsx(P,{asChild:!0,children:e.jsx(c,{children:"Add filters"})}),e.jsx(F,{className:"p-0",children:e.jsx(f,{pageLabel:t.label,sections:r,preselectedValues:n,sectionRegistry:b})})]})},o={render:a=>e.jsx(H,{...a}),args:{pageId:"Accounts",preselectedValues:{}}};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:`{
  render: args => <Template {...args} />,
  args: {
    pageId: 'Accounts',
    preselectedValues: {}
  }
}`,...o.parameters?.docs?.source}}};const Ne=["Default"];export{o as Default,Ne as __namedExportsOrder,qe as default};
