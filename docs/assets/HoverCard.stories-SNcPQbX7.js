import{r as a,j as n}from"./iframe-LWRVmnFj.js";import{c as l}from"./index-Dc_FVRD7.js";import{c as U}from"./index-wRcYn_xB.js";import{u as $}from"./index-UZFZX2Lm.js";import{u as W}from"./index-DPcGnTxN.js";import{c as _,R as z,A as B,C as V,a as q}from"./index-BNEPqp8N.js";import{P as G}from"./index-B1BkD8AA.js";import{P as y}from"./index-D5Qzbgza.js";import{P as K}from"./index-gdvdVdh-.js";import{D as J}from"./index-B-bEmlkt.js";import{c as Q}from"./utils-CBfrqCZ4.js";import"./preload-helper-D9Z9MdNV.js";import"./index-CWpX5yCy.js";import"./index-CABtAXQK.js";import"./index-C-4RrRRl.js";import"./index-CPtGBJJt.js";var w,S="HoverCard",[N,be]=U(S,[_]),R=_(),[X,b]=N(S),O=e=>{const{__scopeHoverCard:o,children:t,open:s,defaultOpen:i,onOpenChange:c,openDelay:f=700,closeDelay:m=300}=e,d=R(o),v=a.useRef(0),u=a.useRef(0),C=a.useRef(!1),p=a.useRef(!1),[h,r]=$({prop:s,defaultProp:i??!1,onChange:c,caller:S}),x=a.useCallback(()=>{clearTimeout(u.current),v.current=window.setTimeout(()=>r(!0),f)},[f,r]),M=a.useCallback(()=>{clearTimeout(v.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),m))},[m,r]),F=a.useCallback(()=>r(!1),[r]);return a.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(u.current)},[]),n.jsx(X,{scope:o,open:h,onOpenChange:r,onOpen:x,onClose:M,onDismiss:F,hasSelectionRef:C,isPointerDownOnContentRef:p,children:n.jsx(z,{...d,children:t})})};O.displayName=S;var D="HoverCardTrigger",j=a.forwardRef((e,o)=>{const{__scopeHoverCard:t,...s}=e,i=b(D,t),c=R(t);return n.jsx(B,{asChild:!0,...c,children:n.jsx(K.a,{"data-state":i.open?"open":"closed",...s,ref:o,onPointerEnter:l(e.onPointerEnter,H(i.onOpen)),onPointerLeave:l(e.onPointerLeave,H(i.onClose)),onFocus:l(e.onFocus,i.onOpen),onBlur:l(e.onBlur,i.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});j.displayName=D;var T="HoverCardPortal",[Y,Z]=N(T,{forceMount:void 0}),A=e=>{const{__scopeHoverCard:o,forceMount:t,children:s,container:i}=e,c=b(T,o);return n.jsx(Y,{scope:o,forceMount:t,children:n.jsx(y,{present:t||c.open,children:n.jsx(G,{asChild:!0,container:i,children:s})})})};A.displayName=T;var P="HoverCardContent",L=a.forwardRef((e,o)=>{const t=Z(P,e.__scopeHoverCard),{forceMount:s=t.forceMount,...i}=e,c=b(P,e.__scopeHoverCard);return n.jsx(y,{present:s||c.open,children:n.jsx(ee,{"data-state":c.open?"open":"closed",...i,onPointerEnter:l(e.onPointerEnter,H(c.onOpen)),onPointerLeave:l(e.onPointerLeave,H(c.onClose)),ref:o})})});L.displayName=P;var ee=a.forwardRef((e,o)=>{const{__scopeHoverCard:t,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:f,...m}=e,d=b(P,t),v=R(t),u=a.useRef(null),C=W(o,u),[p,h]=a.useState(!1);return a.useEffect(()=>{if(p){const r=document.body;return w=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=w,r.style.webkitUserSelect=w}}},[p]),a.useEffect(()=>{if(u.current){const r=()=>{h(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),a.useEffect(()=>{u.current&&te(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),n.jsx(J,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l(c,r=>{r.preventDefault()}),onDismiss:d.onDismiss,children:n.jsx(V,{...v,...m,onPointerDown:l(m.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:C,style:{...m.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),re="HoverCardArrow",oe=a.forwardRef((e,o)=>{const{__scopeHoverCard:t,...s}=e,i=R(t);return n.jsx(q,{...i,...s,ref:o})});oe.displayName=re;function H(e){return o=>o.pointerType==="touch"?void 0:e()}function te(e){const o=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)o.push(t.currentNode);return o}var ne=O,ae=j,se=A,ie=L;function E({...e}){return n.jsx(ne,{"data-slot":"hover-card",...e})}function k({...e}){return n.jsx(ae,{"data-slot":"hover-card-trigger",...e})}function I({className:e,align:o="center",sideOffset:t=4,...s}){return n.jsx(se,{"data-slot":"hover-card-portal",children:n.jsx(ie,{"data-slot":"hover-card-content",align:o,sideOffset:t,className:Q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}E.__docgenInfo={description:"",methods:[],displayName:"HoverCard"};k.__docgenInfo={description:"",methods:[],displayName:"HoverCardTrigger"};I.__docgenInfo={description:"",methods:[],displayName:"HoverCardContent",props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const we={title:"Design Tokens/HoverCard",component:E,parameters:{layout:"centered"},tags:["autodocs"]},g={render:()=>n.jsxs(E,{children:[n.jsx(k,{className:"border px-3 py-2 rounded-md",children:"Hover me"}),n.jsx(I,{children:"Some content"})]})};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: () => <HoverCard>
      <HoverCardTrigger className="border px-3 py-2 rounded-md">Hover me</HoverCardTrigger>
      <HoverCardContent>Some content</HoverCardContent>
    </HoverCard>
}`,...g.parameters?.docs?.source}}};const Te=["Default"];export{g as Default,Te as __namedExportsOrder,we as default};
