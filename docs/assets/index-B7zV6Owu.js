import{r as o,j as a}from"./iframe-LWRVmnFj.js";import{c as M}from"./index-Dc_FVRD7.js";import{c as Ve}from"./index-BlWLI2XR.js";import{u as O,c as Ye,a as Xe}from"./index-DPcGnTxN.js";import{c as He}from"./index-wRcYn_xB.js";import{u as We}from"./index-DO_OVilp.js";import{D as ze}from"./index-B-bEmlkt.js";import{h as Ze,u as $e,R as qe,F as Je}from"./index-DDwUy8g0.js";import{c as le,R as Qe,A as et,C as tt,a as nt}from"./index-BNEPqp8N.js";import{P as ot}from"./index-B1BkD8AA.js";import{P as V}from"./index-D5Qzbgza.js";import{P as k,d as rt}from"./index-gdvdVdh-.js";import{c as de,I as ct,R as st}from"./index-_47-7k22.js";import{u as fe}from"./index-C-4RrRRl.js";var $=["Enter"," "],at=["ArrowDown","PageUp","Home"],me=["ArrowUp","PageDown","End"],ut=[...at,...me],it={ltr:[...$,"ArrowRight"],rtl:[...$,"ArrowLeft"]},lt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},N="Menu",[j,dt,ft]=Ve(N),[R,Zt]=He(N,[ft,le,de]),Y=le(),pe=de(),[mt,P]=R(N),[pt,F]=R(N),ve=e=>{const{__scopeMenu:n,open:t=!1,children:r,dir:u,onOpenChange:c,modal:d=!0}=e,p=Y(n),[h,m]=o.useState(null),l=o.useRef(!1),s=fe(c),f=We(u);return o.useEffect(()=>{const x=()=>{l.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>l.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(Qe,{...p,children:a.jsx(mt,{scope:n,open:t,onOpenChange:s,content:h,onContentChange:m,children:a.jsx(pt,{scope:n,onClose:o.useCallback(()=>s(!1),[s]),isUsingKeyboardRef:l,dir:f,modal:d,children:r})})})};ve.displayName=N;var vt="MenuAnchor",q=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=Y(t);return a.jsx(et,{...u,...r,ref:n})});q.displayName=vt;var J="MenuPortal",[Mt,Me]=R(J,{forceMount:void 0}),he=e=>{const{__scopeMenu:n,forceMount:t,children:r,container:u}=e,c=P(J,n);return a.jsx(Mt,{scope:n,forceMount:t,children:a.jsx(V,{present:t||c.open,children:a.jsx(ot,{asChild:!0,container:u,children:r})})})};he.displayName=J;var g="MenuContent",[ht,Q]=R(g),Ce=o.forwardRef((e,n)=>{const t=Me(g,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,c=P(g,e.__scopeMenu),d=F(g,e.__scopeMenu);return a.jsx(j.Provider,{scope:e.__scopeMenu,children:a.jsx(V,{present:r||c.open,children:a.jsx(j.Slot,{scope:e.__scopeMenu,children:d.modal?a.jsx(Ct,{...u,ref:n}):a.jsx(xt,{...u,ref:n})})})})}),Ct=o.forwardRef((e,n)=>{const t=P(g,e.__scopeMenu),r=o.useRef(null),u=O(n,r);return o.useEffect(()=>{const c=r.current;if(c)return Ze(c)},[]),a.jsx(ee,{...e,ref:u,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:M(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),xt=o.forwardRef((e,n)=>{const t=P(g,e.__scopeMenu);return a.jsx(ee,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),gt=Ye("MenuContent.ScrollLock"),ee=o.forwardRef((e,n)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:u,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:p,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:l,onFocusOutside:s,onInteractOutside:f,onDismiss:x,disableOutsideScroll:v,...E}=e,y=P(g,t),S=F(g,t),ke=Y(t),Ne=pe(t),re=dt(t),[Fe,ce]=o.useState(null),L=o.useRef(null),Le=O(n,L,y.onContentChange),K=o.useRef(0),G=o.useRef(""),Ke=o.useRef(0),H=o.useRef(null),se=o.useRef("right"),W=o.useRef(0),Ge=v?qe:o.Fragment,Ue=v?{as:gt,allowPinchZoom:!0}:void 0,Be=i=>{const I=G.current+i,_=re().filter(C=>!C.disabled),b=document.activeElement,z=_.find(C=>C.ref.current===b)?.textValue,Z=_.map(C=>C.textValue),ae=jt(Z,I,z),T=_.find(C=>C.textValue===ae)?.ref.current;(function C(ue){G.current=ue,window.clearTimeout(K.current),ue!==""&&(K.current=window.setTimeout(()=>C(""),1e3))})(I),T&&setTimeout(()=>T.focus())};o.useEffect(()=>()=>window.clearTimeout(K.current),[]),$e();const w=o.useCallback(i=>se.current===H.current?.side&&Ot(i,H.current?.area),[]);return a.jsx(ht,{scope:t,searchRef:G,onItemEnter:o.useCallback(i=>{w(i)&&i.preventDefault()},[w]),onItemLeave:o.useCallback(i=>{w(i)||(L.current?.focus(),ce(null))},[w]),onTriggerLeave:o.useCallback(i=>{w(i)&&i.preventDefault()},[w]),pointerGraceTimerRef:Ke,onPointerGraceIntentChange:o.useCallback(i=>{H.current=i},[]),children:a.jsx(Ge,{...Ue,children:a.jsx(Je,{asChild:!0,trapped:u,onMountAutoFocus:M(c,i=>{i.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:a.jsx(ze,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:l,onFocusOutside:s,onInteractOutside:f,onDismiss:x,children:a.jsx(st,{asChild:!0,...Ne,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:Fe,onCurrentTabStopIdChange:ce,onEntryFocus:M(h,i=>{S.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(tt,{role:"menu","aria-orientation":"vertical","data-state":Oe(y.open),"data-radix-menu-content":"",dir:S.dir,...ke,...E,ref:Le,style:{outline:"none",...E.style},onKeyDown:M(E.onKeyDown,i=>{const _=i.target.closest("[data-radix-menu-content]")===i.currentTarget,b=i.ctrlKey||i.altKey||i.metaKey,z=i.key.length===1;_&&(i.key==="Tab"&&i.preventDefault(),!b&&z&&Be(i.key));const Z=L.current;if(i.target!==Z||!ut.includes(i.key))return;i.preventDefault();const T=re().filter(C=>!C.disabled).map(C=>C.ref.current);me.includes(i.key)&&T.reverse(),Tt(T)}),onBlur:M(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(K.current),G.current="")}),onPointerMove:M(e.onPointerMove,D(i=>{const I=i.target,_=W.current!==i.clientX;if(i.currentTarget.contains(I)&&_){const b=i.clientX>W.current?"right":"left";se.current=b,W.current=i.clientX}}))})})})})})})});Ce.displayName=g;var _t="MenuGroup",te=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{role:"group",...r,ref:n})});te.displayName=_t;var Rt="MenuLabel",xe=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{...r,ref:n})});xe.displayName=Rt;var U="MenuItem",ie="menu.itemSelect",X=o.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:r,...u}=e,c=o.useRef(null),d=F(U,e.__scopeMenu),p=Q(U,e.__scopeMenu),h=O(n,c),m=o.useRef(!1),l=()=>{const s=c.current;if(!t&&s){const f=new CustomEvent(ie,{bubbles:!0,cancelable:!0});s.addEventListener(ie,x=>r?.(x),{once:!0}),rt(s,f),f.defaultPrevented?m.current=!1:d.onClose()}};return a.jsx(ge,{...u,ref:h,disabled:t,onClick:M(e.onClick,l),onPointerDown:s=>{e.onPointerDown?.(s),m.current=!0},onPointerUp:M(e.onPointerUp,s=>{m.current||s.currentTarget?.click()}),onKeyDown:M(e.onKeyDown,s=>{const f=p.searchRef.current!=="";t||f&&s.key===" "||$.includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})})});X.displayName=U;var ge=o.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:r=!1,textValue:u,...c}=e,d=Q(U,t),p=pe(t),h=o.useRef(null),m=O(n,h),[l,s]=o.useState(!1),[f,x]=o.useState("");return o.useEffect(()=>{const v=h.current;v&&x((v.textContent??"").trim())},[c.children]),a.jsx(j.ItemSlot,{scope:t,disabled:r,textValue:u??f,children:a.jsx(ct,{asChild:!0,...p,focusable:!r,children:a.jsx(k.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:m,onPointerMove:M(e.onPointerMove,D(v=>{r?d.onItemLeave(v):(d.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(e.onPointerLeave,D(v=>d.onItemLeave(v))),onFocus:M(e.onFocus,()=>s(!0)),onBlur:M(e.onBlur,()=>s(!1))})})})}),Pt="MenuCheckboxItem",_e=o.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:r,...u}=e;return a.jsx(we,{scope:e.__scopeMenu,checked:t,children:a.jsx(X,{role:"menuitemcheckbox","aria-checked":B(t)?"mixed":t,...u,ref:n,"data-state":oe(t),onSelect:M(u.onSelect,()=>r?.(B(t)?!0:!t),{checkForDefaultPrevented:!1})})})});_e.displayName=Pt;var Re="MenuRadioGroup",[Et,St]=R(Re,{value:void 0,onValueChange:()=>{}}),Pe=o.forwardRef((e,n)=>{const{value:t,onValueChange:r,...u}=e,c=fe(r);return a.jsx(Et,{scope:e.__scopeMenu,value:t,onValueChange:c,children:a.jsx(te,{...u,ref:n})})});Pe.displayName=Re;var Ee="MenuRadioItem",Se=o.forwardRef((e,n)=>{const{value:t,...r}=e,u=St(Ee,e.__scopeMenu),c=t===u.value;return a.jsx(we,{scope:e.__scopeMenu,checked:c,children:a.jsx(X,{role:"menuitemradio","aria-checked":c,...r,ref:n,"data-state":oe(c),onSelect:M(r.onSelect,()=>u.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});Se.displayName=Ee;var ne="MenuItemIndicator",[we,wt]=R(ne,{checked:!1}),Ie=o.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:r,...u}=e,c=wt(ne,t);return a.jsx(V,{present:r||B(c.checked)||c.checked===!0,children:a.jsx(k.span,{...u,ref:n,"data-state":oe(c.checked)})})});Ie.displayName=ne;var It="MenuSeparator",ye=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return a.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});ye.displayName=It;var yt="MenuArrow",be=o.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,u=Y(t);return a.jsx(nt,{...u,...r,ref:n})});be.displayName=yt;var bt="MenuSub",[$t,Te]=R(bt),A="MenuSubTrigger",Ae=o.forwardRef((e,n)=>{const t=P(A,e.__scopeMenu),r=F(A,e.__scopeMenu),u=Te(A,e.__scopeMenu),c=Q(A,e.__scopeMenu),d=o.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:h}=c,m={__scopeMenu:e.__scopeMenu},l=o.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return o.useEffect(()=>l,[l]),o.useEffect(()=>{const s=p.current;return()=>{window.clearTimeout(s),h(null)}},[p,h]),a.jsx(q,{asChild:!0,...m,children:a.jsx(ge,{id:u.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":u.contentId,"data-state":Oe(t.open),...e,ref:Xe(n,u.onTriggerChange),onClick:s=>{e.onClick?.(s),!(e.disabled||s.defaultPrevented)&&(s.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:M(e.onPointerMove,D(s=>{c.onItemEnter(s),!s.defaultPrevented&&!e.disabled&&!t.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),l()},100))})),onPointerLeave:M(e.onPointerLeave,D(s=>{l();const f=t.content?.getBoundingClientRect();if(f){const x=t.content?.dataset.side,v=x==="right",E=v?-5:5,y=f[v?"left":"right"],S=f[v?"right":"left"];c.onPointerGraceIntentChange({area:[{x:s.clientX+E,y:s.clientY},{x:y,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:y,y:f.bottom}],side:x}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(s),s.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:M(e.onKeyDown,s=>{const f=c.searchRef.current!=="";e.disabled||f&&s.key===" "||it[r.dir].includes(s.key)&&(t.onOpenChange(!0),t.content?.focus(),s.preventDefault())})})})});Ae.displayName=A;var je="MenuSubContent",De=o.forwardRef((e,n)=>{const t=Me(g,e.__scopeMenu),{forceMount:r=t.forceMount,...u}=e,c=P(g,e.__scopeMenu),d=F(g,e.__scopeMenu),p=Te(je,e.__scopeMenu),h=o.useRef(null),m=O(n,h);return a.jsx(j.Provider,{scope:e.__scopeMenu,children:a.jsx(V,{present:r||c.open,children:a.jsx(j.Slot,{scope:e.__scopeMenu,children:a.jsx(ee,{id:p.contentId,"aria-labelledby":p.triggerId,...u,ref:m,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{d.isUsingKeyboardRef.current&&h.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:M(e.onFocusOutside,l=>{l.target!==p.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:M(e.onEscapeKeyDown,l=>{d.onClose(),l.preventDefault()}),onKeyDown:M(e.onKeyDown,l=>{const s=l.currentTarget.contains(l.target),f=lt[d.dir].includes(l.key);s&&f&&(c.onOpenChange(!1),p.trigger?.focus(),l.preventDefault())})})})})})});De.displayName=je;function Oe(e){return e?"open":"closed"}function B(e){return e==="indeterminate"}function oe(e){return B(e)?"indeterminate":e?"checked":"unchecked"}function Tt(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function At(e,n){return e.map((t,r)=>e[(n+r)%e.length])}function jt(e,n,t){const u=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,c=t?e.indexOf(t):-1;let d=At(e,Math.max(c,0));u.length===1&&(d=d.filter(m=>m!==t));const h=d.find(m=>m.toLowerCase().startsWith(u.toLowerCase()));return h!==t?h:void 0}function Dt(e,n){const{x:t,y:r}=e;let u=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const p=n[c],h=n[d],m=p.x,l=p.y,s=h.x,f=h.y;l>r!=f>r&&t<(s-m)*(r-l)/(f-l)+m&&(u=!u)}return u}function Ot(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Dt(t,n)}function D(e){return n=>n.pointerType==="mouse"?e(n):void 0}var qt=ve,Jt=q,Qt=he,en=Ce,tn=te,nn=xe,on=X,rn=_e,cn=Pe,sn=Se,an=Ie,un=ye,ln=be,dn=Ae,fn=De;export{Jt as A,en as C,tn as G,on as I,nn as L,Qt as P,qt as R,un as S,rn as a,cn as b,Zt as c,sn as d,an as e,ln as f,dn as g,fn as h};
